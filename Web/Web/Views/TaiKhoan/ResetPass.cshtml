@model Web.Models.TAIKHOAN
@{
    ViewBag.Title = "ResetPass";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="col-lg-12">
    <section class="panel">
        <header class="panel-heading">
            Tạo Tại Khoản Mới
        </header>
        <div class="panel-body">
            @using (Html.BeginForm())
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <div class="position-center">
                    <p style="color:red;">@ViewBag.ThongBao</p>
                    <br />
                    <form class="form-horizontal" role="form">
                        <div class="form-group">
                            @Html.LabelFor(model => model.MatKhau, "Mật Khẩu Hiện Tại", htmlAttributes: new { @class = "col-lg-3 col-sm-3 control-label" })
                            <div class="col-lg-9">
                                @Html.TextBox("txtPass", "", htmlAttributes: new { @type = "password", @name = "name", @class = "form-control", @placeholder = "Mật Khẩu", @required = "" })
                                <br />

                            </div>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.MatKhau, "Mật Khẩu Mới", htmlAttributes: new { @class = "col-lg-3 col-sm-3 control-label" })
                            <div class="col-lg-9">
                                @Html.EditorFor(model => model.MatKhau, new { htmlAttributes = new { @type = "password", @name = "name", @class = "form-control", @placeholder = "Mật Khẩu", @required = "", @id = "pass1" } })
                                <br />
                                @Html.ValidationMessageFor(model => model.MatKhau, "", new { @class = "text-danger" })

                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 col-sm-3 control-label">Xác Nhận Lại</label>
                            <div class="col-lg-9">
                                <input class="form-control" type="password" name="name" id="pass2" />
                                <br />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-offset-3 col-lg-9">
                                <button type="submit" class="btn btn-danger">Cập Nhật</button>
                            </div>
                        </div>
                    </form>
                </div>
            }
        </div>
    </section>

</div>
<script>
    window.onload = function () {
        document.getElementById("pass1").onchange = validatePassword;
        document.getElementById("pass2").onchange = validatePassword;
    }

    function validatePassword() {
        var pass2 = document.getElementById("pass2").value;
        var pass1 = document.getElementById("pass1").value;
        if (pass1 != pass2)
            document.getElementById("pass2").setCustomValidity("Mật khẩu mới không đồng nhất");
        else
            document.getElementById("pass2").setCustomValidity('');
        //empty string means no validation error
    }
</script>
